# DaiyuChat: 林黛玉角色扮演对话系统  

[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)  

DaiyuChat 是一个基于大模型技术构建的高保真林黛玉角色扮演对话系统，通过多源数据融合、LoRA微调与RAG知识增强，实现了《红楼梦》经典角色的语言风格、行为逻辑与心理活动动态建模。本项目旨在探索AI技术在文化IP数字化中的创新应用，为经典文学的活化传承提供方法论支持。

---

## 项目概述  

DaiyuChat 是一款专注于《红楼梦》林黛玉角色的对话生成系统，结合了以下关键技术：  

- **多源数据融合**：整合剧本、小说、用户交互数据，构建结构化对话数据集（v4）。  
- **LoRA参数高效微调**：在Qwen-7B基础上实现轻量化适配，显存占用降低70%。  
- **RAG检索增强**：通过Chroma向量数据库注入原著知识，提升生成内容的文化一致性。  
- **沉浸式交互设计**：支持动作（`<action>`）与心理活动（`<thinking>`）标签渲染，打造拟真角色体验。  

---

## 核心功能  

- **角色语言建模**：生成符合清代语境的细腻文言对话（如“妾身非爱落泪，只是风过处，花落人亡两不知”）。  
- **知识约束生成**：通过RAG模块引用原著情节，避免生成与《红楼梦》矛盾的内容。  
- **多模态行为表达**：嵌入动作与心理活动标签，增强角色拟真度（如“掩面拭泪”“心下愈悲”）。  
- **实时流式响应**：前后端协同架构，支持低延迟对话交互（响应时间≤500ms）。  

---

## 快速开始  

### 环境准备  

1. 克隆仓库：  
   ```bash
   git clone https://github.com/your-repo/DaiyuChat.git
   cd DaiyuChat
   ```

2. 安装依赖：  
   ```bash
   pip install -r requirements.txt
   ```

### 启动服务  

1. 启动后端服务：  
   ```bash
   python app.py
   ```
   默认访问地址：`http://localhost:9981`。  

2. 打开前端页面：  
   在浏览器中访问`http://localhost:9981`，与林黛玉进行实时对话。  

---

## 贡献指南  

欢迎参与项目开发！以下是一些贡献方向：  

- **数据优化**：补充更多《红楼梦》相关数据（如白话解析、学术论文）。  
- **功能扩展**：增加多模态支持（如语音、表情生成）。  
- **性能优化**：改进RAG检索效率，降低小模型幻觉率。  
- **文档完善**：补充详细的技术文档与使用教程。  

提交PR前，请确保代码通过格式检查：  

---

## 致谢  

感谢以下项目与机构的支持：  

- [Qwen](https://github.com/QwenLM/Qwen)：基础模型提供者。  
- [DeepSpeed](https://www.deepspeed.ai/)：显存优化技术支持。  
- [Chroma](https://www.trychroma.com/)：向量数据库解决方案。  
- [OpenCompass](https://github.com/open-compass/opencompass)：基准测试框架。  

---

## 许可证  

本项目采用MIT许可证。详情见[LICENSE](LICENSE)文件。  

--- 

如有任何问题，请联系：2462745774@qq.com
